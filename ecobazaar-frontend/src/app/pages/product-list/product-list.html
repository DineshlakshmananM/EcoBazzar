<div class="max-w-5xl mx-auto p-4">

<h2 class="text-2xl font-bold mb-4"> EcoBazaar Products — Browse & Discover</h2>


<div class="flex flex-col md:flex-row gap-3 mb-4 items-center">

<input

type="text"

placeholder=" Search Products..."

[(ngModel)]="searchText"

(ngModelChange)="onSearchChange()"

class="flex-1 border rounded p-2 focus:outline-none focus:ring-2 focus:ring-green-300"

/>


<label class="flex items-center gap-2 text-sm mt-2 md:mt-0">

<input type="checkbox" [(ngModel)]="ecoOnly" (change)="onEcoToggle()" />

<span class="ml-1"> <strong>Eco Only</strong></span>

</label>

</div>


<p *ngIf="loading" class="text-center text-gray-600"> Loading products...</p>

<p *ngIf="error" class="text-center text-red-600">{{ error }}</p>


<div *ngIf="!loading && !error" class="grid grid-cols-[repeat(auto-fit,minmax(220px,1fr))] gap-4">

<a *ngFor="let p of filtered" [href]="'/products/' + p.id"
class="block border rounded-lg p-3 text-center shadow-sm hover:-translate-y-1 transition-transform bg-white">

<div class="relative overflow-hidden rounded-md">

<img [src]="p.imageUrl || 'assets/placeholder.png'"

[alt]="p.name"

loading="lazy"

class="w-full h-40 object-cover rounded-md" />

</div>


<h3 class="font-semibold mt-2 text-lg">{{ p.name }}</h3>


<p class="mt-1"> <span class="font-medium">{{ p.price | currency:'INR' }}</span></p>


<p *ngIf="p.ecoCertified" class="text-green-600 font-medium mt-2"> Eco Certified</p>


<div class="mt-3 text-xs text-gray-500">

<span *ngIf="p.carbonImpact"> {{ p.carbonImpact }} kg CO₂</span>

</div>

</a>

</div>


<p *ngIf="!loading && !error && filtered.length === 0" class="text-center text-gray-600 mt-6">

No products found — try a different search or toggle.

</p>

</div>